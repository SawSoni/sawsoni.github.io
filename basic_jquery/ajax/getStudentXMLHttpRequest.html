<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>getStudent</title>
</head>
<body>
	<div id="demo">Hello</div>
	<script>
		var getStudent1 = (function(){
          
          var proObj = new Promise(function(resolve,reject){
          	var URL = 'http://demo.soni.com:3000/students';
           var xml = new XMLHttpRequest();
           xml.open('GET',URL);
           xml.onload = function(){
           		resolve(xml.responseText);
           };
           xml.onerror = function(){
           	reject(xml.statusText);
           };
           xml.send();


          });

          return proObj;

		})();
		console.log(getStudent1);

		getStudent1.then(function(reponse){
			return JSON.parse(reponse);
		})
		.then(function(student){
			var tr = "";
			for(var i = 0; i < student.length; i++){
				tr += '<tr><td>' + student[i].id +': '+ '</td><td>' + student[i].name + '</td></tr><br>';
			};
			
			document.getElementById('demo').innerHTML = tr;
		})
		.catch(function(e){
			console.log(e);
		})
	</script>
</body>
</html>