<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>MV* Example</title>
	<script src="../js/external/jquery/dist/jquery.js"></script>
	<script>

		// Person model
		class PersonModel{

			constructor(){
				this.firstName = '' ;
				this.lastName = ''; 
			}

			getFullName(){
				return this.firstName + ' '+this.lastName;
			}

			validatefName(){
				
			}
			/**
			save person object in database through API
			API url - http://demo.soni.com:3000/persons
			*/
			save(){
				$.ajax({
					url:'http://demo.soni.com:3000/persons',
					type:'POST',
					data: this,
					success:function(obj){
						console.log('Object saved');
					},
					error: function(obj){
						console.log('Object could not be saved' +obj);
					}
				})
			}

		}

		//view
		// short form of $(document).ready(function(){});
		$(function(){
			var person = new PersonModel();

			//update mode on key press
			$('#fName').on('keypress', function(){
				person.firstName = $('#fName').val();
			})
			//update mode on key press
			$('#lName').on('keypress', function(){
				person.lastName = $('#lName').val();
			})

			//save on submit
			$('#save').on('click', function(){
				person.save();
				$('result').html('Saved successfully');
			})

		})
		
		
		
	</script>
</head>

<body>
	<lable for="fName"><input type="text" id="fName"></lable>
	<lable for="lName"><input type="text" id="lName"></lable>
	<button id='save'>Save</button>
	
	<table>
		<tr>
			<td id='result'></td>
		</tr>
		
	</table>
	
</body>
</html>